{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///D:/WORK/Projects/DevConnector/client/utils/api.js"],"sourcesContent":["/** @format */\r\n\r\nimport axios from 'axios';\r\n\r\nconst api = axios.create({\r\n\tbaseURL: process.env.NEXT_PUBLIC_API_URL, // http://localhost:5000/api\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json',\r\n\t},\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":"AAAA,YAAY;;;;AAEZ;;AAEA,MAAM,MAAM,0JAAK,CAAC,MAAM,CAAC;IACxB,OAAO;IACP,SAAS;QACR,gBAAgB;IACjB;AACD;uCAEe"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///D:/WORK/Projects/DevConnector/client/app/store/slices/loginSlice.ts"],"sourcesContent":["/** @format */\r\n\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport api from '@/utils/api';\r\n\r\nexport interface LoginCredentials {\r\n\temail: string;\r\n\tpassword: string;\r\n}\r\n\r\nexport interface AuthUser {\r\n\tid: string;\r\n\tname: string;\r\n\temail: string;\r\n\ttoken: string;\r\n}\r\n\r\nexport interface LoginState {\r\n\tuser: AuthUser | null;\r\n\tisLoading: boolean;\r\n\terror: string | null;\r\n\tisAuthenticated: boolean;\r\n}\r\n\r\nconst initialState: LoginState = {\r\n\tuser: null,\r\n\tisLoading: true,\r\n\terror: null,\r\n\tisAuthenticated: false,\r\n};\r\n\r\n// Async thunk for logging in user\r\nexport const loginUser = createAsyncThunk(\r\n\t'login/loginUser',\r\n\tasync (credentials: LoginCredentials, { rejectWithValue }) => {\r\n\t\ttry {\r\n\t\t\tconst response = await api.post('/auth', credentials);\r\n\t\t\t// Assuming the API returns { token, user: { id, name, email } }\r\n\t\t\treturn response.data;\r\n\t\t} catch (error : any) {\r\n\t\t\t\r\n\t\t\t\treturn rejectWithValue(error.response.data.errors?.[0].msg || 'Login failed');\r\n\t\t}\r\n\t}\r\n);\r\n\r\nexport const loginSlice = createSlice({\r\n\tname: 'login',\r\n\tinitialState,\r\n\treducers: {\r\n\t\t// Logout user\r\n\t\tlogout: (state) => {\r\n\t\t\tstate.user = null;\r\n\t\t\tstate.isAuthenticated = false;\r\n\t\t\tstate.isLoading = false;\r\n\t\t\tstate.error = null;\r\n\t\t\t\r\n\t\t\t// Clear token and user data from localStorage\r\n\t\t\t\tconsole.log(window);\r\n\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\tlocalStorage.removeItem('user');\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\t// Clear error\r\n\t\tclearError: (state) => {\r\n\t\t\tstate.error = null;\r\n\t\t\tstate.isLoading = false;\r\n\t\t},\r\n\r\n\t\t// Load user from token (on app init)\r\n\t\tloadUserFromToken: (state, action:{payload:AuthUser}) => {\r\n\t\t\tif (action.payload) {\r\n\t\t\t\tstate.user = action.payload;\r\n\t\t\t\tstate.isLoading = false;\r\n\t\t\t\tstate.isAuthenticated = true;\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\textraReducers: (builder) => {\r\n\t\tbuilder\r\n\t\t\t// Pending state\r\n\t\t\t.addCase(loginUser.pending, (state) => {\r\n\t\t\t\tstate.isLoading = true;\r\n\t\t\t\tstate.error = null;\r\n\t\t\t})\r\n\t\t\t// Fulfilled state\r\n\t\t\t.addCase(loginUser.fulfilled, (state, action) => {\r\n\t\t\t\tstate.isLoading = false;\r\n\t\t\t\tstate.isAuthenticated = true;\r\n\t\t\t\tstate.error = null;\r\n\t\t\t\tconsole.log(action);\r\n\t\t\t\t\r\n\t\t\t\tconst token = action.payload.token;\r\n\t\t\t\tif(token){\r\n\t\t\t\t\tconst decodedToken = JSON.parse(atob(token.split('.')[1]));\r\n\t\t\t\t\tconst userId = decodedToken.user.id;\r\n\r\n\t\t\t\t\tstate.user = {\r\n\t\t\t\t\t\tid: userId,\r\n\t\t\t\t\t\tname: action.payload.user.name,\r\n\t\t\t\t\t\temail: action.payload.user.email,\r\n\t\t\t\t\t\ttoken: token,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\t// Save token and user data to localStorage\r\n\t\t\t\tif (typeof window !== 'undefined') {\r\n\t\t\t\t\tlocalStorage.setItem('token', token || 'no token');\r\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(state.user));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// Rejected state\r\n\t\t\t.addCase(loginUser.rejected, (state, action) => {\r\n\t\t\t\tstate.isLoading = false;\r\n\t\t\t\tstate.error = action.payload as string;\r\n\t\t\t\tstate.isAuthenticated = false;\r\n\t\t\t\tstate.user = null;\r\n\t\t\t});\r\n\t},\r\n});\r\n\r\nexport const { logout, clearError, loadUserFromToken } = loginSlice.actions;\r\nexport default loginSlice.reducer;\r\n"],"names":[],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;AAEZ;AACA;;;AAqBA,MAAM,eAA2B;IAChC,MAAM;IACN,WAAW;IACX,OAAO;IACP,iBAAiB;AAClB;AAGO,MAAM,YAAY,IAAA,yNAAgB,EACxC,mBACA,OAAO,aAA+B,EAAE,eAAe,EAAE;IACxD,IAAI;QACH,MAAM,WAAW,MAAM,iIAAG,CAAC,IAAI,CAAC,SAAS;QACzC,gEAAgE;QAChE,OAAO,SAAS,IAAI;IACrB,EAAE,OAAO,OAAa;QAEpB,OAAO,gBAAgB,MAAM,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,OAAO;IAChE;AACD;AAGM,MAAM,aAAa,IAAA,oNAAW,EAAC;IACrC,MAAM;IACN;IACA,UAAU;QACT,cAAc;QACd,QAAQ,CAAC;YACR,MAAM,IAAI,GAAG;YACb,MAAM,eAAe,GAAG;YACxB,MAAM,SAAS,GAAG;YAClB,MAAM,KAAK,GAAG;YAEd,8CAA8C;YAC7C,QAAQ,GAAG,CAAC;YACZ,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAE1B;QAEA,cAAc;QACd,YAAY,CAAC;YACZ,MAAM,KAAK,GAAG;YACd,MAAM,SAAS,GAAG;QACnB;QAEA,qCAAqC;QACrC,mBAAmB,CAAC,OAAO;YAC1B,IAAI,OAAO,OAAO,EAAE;gBACnB,MAAM,IAAI,GAAG,OAAO,OAAO;gBAC3B,MAAM,SAAS,GAAG;gBAClB,MAAM,eAAe,GAAG;YAEzB;QACD;IACD;IACA,eAAe,CAAC;QACf,OACC,gBAAgB;SACf,OAAO,CAAC,UAAU,OAAO,EAAE,CAAC;YAC5B,MAAM,SAAS,GAAG;YAClB,MAAM,KAAK,GAAG;QACf,EACA,kBAAkB;SACjB,OAAO,CAAC,UAAU,SAAS,EAAE,CAAC,OAAO;YACrC,MAAM,SAAS,GAAG;YAClB,MAAM,eAAe,GAAG;YACxB,MAAM,KAAK,GAAG;YACd,QAAQ,GAAG,CAAC;YAEZ,MAAM,QAAQ,OAAO,OAAO,CAAC,KAAK;YAClC,IAAG,OAAM;gBACR,MAAM,eAAe,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;gBACxD,MAAM,SAAS,aAAa,IAAI,CAAC,EAAE;gBAEnC,MAAM,IAAI,GAAG;oBACZ,IAAI;oBACJ,MAAM,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI;oBAC9B,OAAO,OAAO,OAAO,CAAC,IAAI,CAAC,KAAK;oBAChC,OAAO;gBACR;YACD;YACA,2CAA2C;YAC3C;;QAID,EACA,iBAAiB;SAChB,OAAO,CAAC,UAAU,QAAQ,EAAE,CAAC,OAAO;YACpC,MAAM,SAAS,GAAG;YAClB,MAAM,KAAK,GAAG,OAAO,OAAO;YAC5B,MAAM,eAAe,GAAG;YACxB,MAAM,IAAI,GAAG;QACd;IACF;AACD;AAEO,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,iBAAiB,EAAE,GAAG,WAAW,OAAO;uCAC5D,WAAW,OAAO"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///D:/WORK/Projects/DevConnector/client/app/page.tsx"],"sourcesContent":["\"use\"\r\nimport { logout } from \"./store/slices/loginSlice\";\r\n\r\nexport default function Home() {\r\n  return (\r\n\t\t<section className='landing'>\r\n\t\t\t<div className='dark-overlay'>\r\n\t\t\t\t<div className='landing-inner'>\r\n\t\t\t\t\t<h1 className='x-large'>Developer Connector</h1>\r\n\t\t\t\t\t<p className='lead'>\r\n\t\t\t\t\t\tCreate a developer profile/portfolio, share posts and get help from\r\n\t\t\t\t\t\tother developers\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div className='buttons'>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='register.html'\r\n\t\t\t\t\t\t\tclassName='btn btn-primary'>\r\n\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<button onClick={()=>logout()}>log out</button>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='login.html'\r\n\t\t\t\t\t\t\tclassName='btn btn-light'>\r\n\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS;IACtB,qBACA,wPAAC;QAAQ,WAAU;kBAClB,cAAA,wPAAC;YAAI,WAAU;sBACd,cAAA,wPAAC;gBAAI,WAAU;;kCACd,wPAAC;wBAAG,WAAU;kCAAU;;;;;;kCACxB,wPAAC;wBAAE,WAAU;kCAAO;;;;;;kCAIpB,wPAAC;wBAAI,WAAU;;0CACd,wPAAC;gCACA,MAAK;gCACL,WAAU;0CAAkB;;;;;;0CAG7B,wPAAC;gCAAO,SAAS,IAAI,IAAA,wJAAM;0CAAI;;;;;;0CAC/B,wPAAC;gCACA,MAAK;gCACL,WAAU;0CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjC"}}]
}